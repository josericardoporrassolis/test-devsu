{
	"info": {
		"_postman_id": "8e103ab1-a466-4a46-8733-bd18ea5d0953",
		"name": "Devsu prueba",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "50670250",
		"_collection_link": "https://jrporras252-1935032.postman.co/workspace/Jose-Ricardo-Porras-Solis's-Wor~2f4b4241-8309-4fb8-8982-b696a35a28f7/collection/50670250-8e103ab1-a466-4a46-8733-bd18ea5d0953?action=share&source=collection_link&creator=50670250"
	},
	"item": [
		{
			"name": "token",
			"item": [
				{
					"name": "create",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let jsonData = pm.response.json();",
									"",
									"pm.environment.set(\"Authorization\", jsonData.token);",
									"//console.log(jsonData.token);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect([200]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-subject",
								"value": "public-client",
								"type": "text"
							},
							{
								"key": "x-scope",
								"value": "read:movements write:movements update:movements read:accounts write:accounts delete:customers write:customers read:customers update:customers update:accounts read:report",
								"type": "text"
							},
							{
								"key": "x-client-secret",
								"value": "elBFNzNhWHVrWWJrZThqSTloMzUzUzNabUc2dlQwcVArbXNLNTU0QWkrTT0=",
								"type": "text"
							},
							{
								"key": "x-aud",
								"value": "ms-users",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-token}}/api/token",
							"host": [
								"{{url-ms-token}}"
							],
							"path": [
								"api",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "validate",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 or 401\", function () {",
									"    pm.expect([200, 401]).to.include(pm.response.code);",
									"    let jsonData = pm.response.json();",
									"    pm.expect(jsonData.valid).to.eql(\"false\");",
									"    pm.expect(jsonData.error).to.eql(\"Token expirado\");",
									"",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							},
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							},
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\" : \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL21zLXRva2VuL2p3dCIsInN1YiI6InB1YmxpYy1jbGllbnQiLCJhdWQiOiJtcy11c2VycyIsImV4cCI6MTc2NTM0NTA0NSwiaWF0IjoxNzY1MzQ0NzQ1LCJzY29wZSI6InJlYWQ6bW92ZW1lbnRzIHdyaXRlOm1vdmVtZW50cyByZWFkOmFjY291bnRzIHdyaXRlOmFjY291bnRzIGRlbGV0ZTp1c2VycyB3cml0ZTp1c2VycyByZWFkOnVzZXJzIHVwZGF0ZTp1c2VycyJ9.QYSQDvTiooEjcXAte-rGvoaT0NJNNwYsEmSm-yTQnv0g18v6nJMXgnDE2divq7s_Q4pMMu4J9R_lz8uX4acE7tDkpZspMpZrLRR1-40qhRF9yEKLC388MtiNTVKZ5xJBJ5BIP0fqjvXsTCVpNOjAX63wPNrM8Fayw8yN7kXoGeqQOOt0-td15HMoXXnhumt68Ygo4keXf5xxL5YIyRWBQbs_29C2fVAaCGIG8-mP9bTYeKtMVqAj4377vP6F1ilr9btnLMqct3B3TLTvugl3G5-DU_xkLB1ufABCAoKdIQwKjTpjIW9jxVDoXF4tIW4r2Cnl6Q1VL9amheaSN5ARgA\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-token}}/api/token/validate",
							"host": [
								"{{url-ms-token}}"
							],
							"path": [
								"api",
								"token",
								"validate"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "clientes",
			"item": [
				{
					"name": "crear",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let jsonData = pm.response.json();",
									"",
									"pm.environment.set(\"customer-id\", jsonData.id);",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect([201, 409]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n        \"name\": \"JR\",\n        \"gender\": \"Male\",\n        \"age\": 33,\n        \"identification\": \"65895111\",\n        \"address\": \"CR\",\n        \"phone\": \"50612345678\",\n        \"password\": \"123\",\n        \"status\": true,\n        \"email\": \"9584@gmail.com\"\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes"
							]
						}
					},
					"response": []
				},
				{
					"name": "obtener",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200, 204\", function () {",
									"    pm.expect([200, 204]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes"
							]
						}
					},
					"response": []
				},
				{
					"name": "obtener id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200, 204\", function () {",
									"    pm.expect([200, 204]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes/{{customer-id}}",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes",
								"{{customer-id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "actualizar",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect([200]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n        \"name\": \"JR Porras\",\n        \"gender\": \"Male\",\n        \"age\": 33,\n        \"identification\": \"1234\",\n        \"address\": \"CR\",\n        \"phone\": \"50612345678\",\n        \"password\": \"123546987\",\n        \"status\": true\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes/{{customer-id}}",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes",
								"{{customer-id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "eliminar",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204, 404\", function () {",
									"    pm.expect([204, 404]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes/{{customer-id}}",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes",
								"{{customer-id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "crear cliente mov",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let jsonData = pm.response.json();",
									"",
									"pm.environment.set(\"customer-id\", jsonData.id);",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect([201, 409]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n        \"name\": \"JR\",\n        \"gender\": \"Male\",\n        \"age\": 33,\n        \"identification\": \"618477777\",\n        \"address\": \"CR\",\n        \"phone\": \"50612345678\",\n        \"password\": \"123\",\n        \"status\": true,\n        \"email\": \"59416777@gmail.com\"\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes"
							]
						}
					},
					"response": []
				},
				{
					"name": "search by name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200, 204\", function () {",
									"    pm.expect([200, 204]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url-ms-customer}}/api/clientes/search?name=JR",
							"host": [
								"{{url-ms-customer}}"
							],
							"path": [
								"api",
								"clientes",
								"search"
							],
							"query": [
								{
									"key": "name",
									"value": "JR"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "cuentas",
			"item": [
				{
					"name": "crear",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let jsonData = pm.response.json();",
									"",
									"pm.environment.set(\"account-number\", jsonData.accountNumber);",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect([201]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountNumber\": \"159\",\n    \"accountType\": \"Savings\",\n    \"initialBalance\": 540.0,\n    \"status\": true,\n    \"personId\": {{customer-id}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-account}}/api/cuentas",
							"host": [
								"{{url-ms-account}}"
							],
							"path": [
								"api",
								"cuentas"
							]
						}
					},
					"response": []
				},
				{
					"name": "obtener cuenta",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect([200]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url-ms-account}}/api/cuentas/{{account-number}}",
							"host": [
								"{{url-ms-account}}"
							],
							"path": [
								"api",
								"cuentas",
								"{{account-number}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "actualizar",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect([200]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"initialBalance\": 880.0,\n    \"status\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-account}}/api/cuentas/{{account-number}}",
							"host": [
								"{{url-ms-account}}"
							],
							"path": [
								"api",
								"cuentas",
								"{{account-number}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "movimientos",
			"item": [
				{
					"name": "crear",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let jsonData = pm.response.json();",
									"",
									"pm.environment.set(\"movement-id\", jsonData.movementId);",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect([201]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2025-12-09T12:30:00\",\n    \"movementType\": \"Deposit\",\n    \"value\": 250.00,\n    \"balance\": 1400.00,\n    \"accountNumber\": \"159\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-account}}/api/movimientos",
							"host": [
								"{{url-ms-account}}"
							],
							"path": [
								"api",
								"movimientos"
							]
						}
					},
					"response": []
				},
				{
					"name": "actualizar",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect([200]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2025-12-09T00:26:34.441426521\",\n    \"movementType\": \"Deposit\",\n    \"value\": 250.0,\n    \"balance\": 1800.0,\n    \"accountNumber\": \"123456789\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url-ms-account}}/api/movimientos/{{movement-id}}",
							"host": [
								"{{url-ms-account}}"
							],
							"path": [
								"api",
								"movimientos",
								"{{movement-id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Reporte",
			"item": [
				{
					"name": "mov fechas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200, 204\", function () {",
									"    pm.expect([200, 204]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{Authorization}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url-ms-account}}/api/reportes?fecha=2025-12-01&fechaFin=2025-12-20&cliente=JR",
							"host": [
								"{{url-ms-account}}"
							],
							"path": [
								"api",
								"reportes"
							],
							"query": [
								{
									"key": "fecha",
									"value": "2025-12-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-12-20"
								},
								{
									"key": "cliente",
									"value": "JR"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}